{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import{Container,Box,Typography,TextField,Button,Paper,Alert,CircularProgress}from'@mui/material';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(){const navigate=useNavigate();const location=useLocation();const{login}=useAuth();const[formData,setFormData]=useState({email:'',password:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);const result=await login(formData.email,formData.password);if(result.success){var _location$state,_location$state$from;// Redirect to admin dashboard or the page they tried to access\nconst from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/admin/dashboard';navigate(from,{replace:true});}else{setError(result.error||'An error occurred. Please try again.');}setLoading(false);};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",sx:{py:8},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4,display:'flex',flexDirection:'column',alignItems:'center',bgcolor:'#1e1e1e'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Box,{sx:{width:56,height:56,borderRadius:'50%',bgcolor:'#ffb6c1',display:'flex',alignItems:'center',justifyContent:'center',mb:2},children:/*#__PURE__*/_jsx(LockOutlinedIcon,{sx:{color:'#000',fontSize:28}})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",sx:{fontWeight:'bold'},children:\"Sign in\"})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{width:'100%',mb:2},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{width:'100%'},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,value:formData.email,onChange:handleChange,sx:{'& .MuiOutlinedInput-root':{'& fieldset':{borderColor:'rgba(255, 255, 255, 0.23)'},'&:hover fieldset':{borderColor:'#ffb6c1'}}}}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:formData.password,onChange:handleChange,sx:{'& .MuiOutlinedInput-root':{'& fieldset':{borderColor:'rgba(255, 255, 255, 0.23)'},'&:hover fieldset':{borderColor:'#ffb6c1'}}}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2,bgcolor:'#ffb6c1',color:'#000','&:hover':{bgcolor:'#ff99a8'}},disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Sign In'})]})]})});}export default LoginPage;","map":{"version":3,"names":["React","useState","useNavigate","useLocation","Container","Box","Typography","TextField","Button","Paper","Alert","CircularProgress","LockOutlinedIcon","useAuth","jsx","_jsx","jsxs","_jsxs","LoginPage","navigate","location","login","formData","setFormData","email","password","error","setError","loading","setLoading","handleChange","e","target","name","value","handleSubmit","preventDefault","result","success","_location$state","_location$state$from","from","state","pathname","replace","maxWidth","sx","py","children","elevation","p","display","flexDirection","alignItems","bgcolor","mb","width","height","borderRadius","justifyContent","color","fontSize","component","variant","fontWeight","severity","onSubmit","margin","required","fullWidth","id","label","autoComplete","autoFocus","onChange","borderColor","type","mt","disabled","size"],"sources":["D:/PROGRAMMING/PROGRAMMING/YOUR_lie/anime-streaming-site/client/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Paper,\r\n  Alert,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nfunction LoginPage() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { login } = useAuth();\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    const result = await login(formData.email, formData.password);\r\n    \r\n    if (result.success) {\r\n      // Redirect to admin dashboard or the page they tried to access\r\n      const from = location.state?.from?.pathname || '/admin/dashboard';\r\n      navigate(from, { replace: true });\r\n    } else {\r\n      setError(result.error || 'An error occurred. Please try again.');\r\n    }\r\n    \r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" sx={{ py: 8 }}>\r\n      <Paper \r\n        elevation={3} \r\n        sx={{ \r\n          p: 4, \r\n          display: 'flex', \r\n          flexDirection: 'column', \r\n          alignItems: 'center',\r\n          bgcolor: '#1e1e1e'\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            mb: 3,\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              width: 56,\r\n              height: 56,\r\n              borderRadius: '50%',\r\n              bgcolor: '#ffb6c1',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              mb: 2,\r\n            }}\r\n          >\r\n            <LockOutlinedIcon sx={{ color: '#000', fontSize: 28 }} />\r\n          </Box>\r\n          <Typography component=\"h1\" variant=\"h5\" sx={{ fontWeight: 'bold' }}>\r\n            Sign in\r\n          </Typography>\r\n        </Box>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ width: '100%', mb: 2 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ width: '100%' }}>\r\n          <TextField\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            sx={{\r\n              '& .MuiOutlinedInput-root': {\r\n                '& fieldset': {\r\n                  borderColor: 'rgba(255, 255, 255, 0.23)',\r\n                },\r\n                '&:hover fieldset': {\r\n                  borderColor: '#ffb6c1',\r\n                },\r\n              },\r\n            }}\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            sx={{\r\n              '& .MuiOutlinedInput-root': {\r\n                '& fieldset': {\r\n                  borderColor: 'rgba(255, 255, 255, 0.23)',\r\n                },\r\n                '&:hover fieldset': {\r\n                  borderColor: '#ffb6c1',\r\n                },\r\n              },\r\n            }}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{\r\n              mt: 3,\r\n              mb: 2,\r\n              bgcolor: '#ffb6c1',\r\n              color: '#000',\r\n              '&:hover': {\r\n                bgcolor: '#ff99a8',\r\n              },\r\n            }}\r\n            disabled={loading}\r\n          >\r\n            {loading ? <CircularProgress size={24} /> : 'Sign In'}\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default LoginPage; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OACEC,SAAS,CACTC,GAAG,CACHC,UAAU,CACVC,SAAS,CACTC,MAAM,CACNC,KAAK,CACLC,KAAK,CACLC,gBAAgB,KACX,eAAe,CACtB,MAAO,CAAAC,gBAAgB,KAAM,kCAAkC,CAC/D,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAAAC,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAkB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEkB,KAAM,CAAC,CAAGR,OAAO,CAAC,CAAC,CAC3B,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGtB,QAAQ,CAAC,CACvCuB,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,CACF,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAC2B,OAAO,CAAEC,UAAU,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAA6B,YAAY,CAAIC,CAAC,EAAK,CAC1BR,WAAW,CAAC,CACV,GAAGD,QAAQ,CACX,CAACS,CAAC,CAACC,MAAM,CAACC,IAAI,EAAGF,CAAC,CAACC,MAAM,CAACE,KAC5B,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAJ,CAAC,EAAK,CAChCA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClBT,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAQ,MAAM,CAAG,KAAM,CAAAhB,KAAK,CAACC,QAAQ,CAACE,KAAK,CAAEF,QAAQ,CAACG,QAAQ,CAAC,CAE7D,GAAIY,MAAM,CAACC,OAAO,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CAClB;AACA,KAAM,CAAAC,IAAI,CAAG,EAAAF,eAAA,CAAAnB,QAAQ,CAACsB,KAAK,UAAAH,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBE,IAAI,UAAAD,oBAAA,iBAApBA,oBAAA,CAAsBG,QAAQ,GAAI,kBAAkB,CACjExB,QAAQ,CAACsB,IAAI,CAAE,CAAEG,OAAO,CAAE,IAAK,CAAC,CAAC,CACnC,CAAC,IAAM,CACLjB,QAAQ,CAACU,MAAM,CAACX,KAAK,EAAI,sCAAsC,CAAC,CAClE,CAEAG,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,mBACEd,IAAA,CAACX,SAAS,EAACyC,QAAQ,CAAC,IAAI,CAACC,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAC,QAAA,cACrC/B,KAAA,CAACR,KAAK,EACJwC,SAAS,CAAE,CAAE,CACbH,EAAE,CAAE,CACFI,CAAC,CAAE,CAAC,CACJC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,QAAQ,CACpBC,OAAO,CAAE,SACX,CAAE,CAAAN,QAAA,eAEF/B,KAAA,CAACZ,GAAG,EACFyC,EAAE,CAAE,CACFK,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,QAAQ,CACpBE,EAAE,CAAE,CACN,CAAE,CAAAP,QAAA,eAEFjC,IAAA,CAACV,GAAG,EACFyC,EAAE,CAAE,CACFU,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,EAAE,CACVC,YAAY,CAAE,KAAK,CACnBJ,OAAO,CAAE,SAAS,CAClBH,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBM,cAAc,CAAE,QAAQ,CACxBJ,EAAE,CAAE,CACN,CAAE,CAAAP,QAAA,cAEFjC,IAAA,CAACH,gBAAgB,EAACkC,EAAE,CAAE,CAAEc,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,EAAG,CAAE,CAAE,CAAC,CACtD,CAAC,cACN9C,IAAA,CAACT,UAAU,EAACwD,SAAS,CAAC,IAAI,CAACC,OAAO,CAAC,IAAI,CAACjB,EAAE,CAAE,CAAEkB,UAAU,CAAE,MAAO,CAAE,CAAAhB,QAAA,CAAC,SAEpE,CAAY,CAAC,EACV,CAAC,CAELtB,KAAK,eACJX,IAAA,CAACL,KAAK,EAACuD,QAAQ,CAAC,OAAO,CAACnB,EAAE,CAAE,CAAEU,KAAK,CAAE,MAAM,CAAED,EAAE,CAAE,CAAE,CAAE,CAAAP,QAAA,CAClDtB,KAAK,CACD,CACR,cAEDT,KAAA,CAACZ,GAAG,EAACyD,SAAS,CAAC,MAAM,CAACI,QAAQ,CAAE/B,YAAa,CAACW,EAAE,CAAE,CAAEU,KAAK,CAAE,MAAO,CAAE,CAAAR,QAAA,eAClEjC,IAAA,CAACR,SAAS,EACR4D,MAAM,CAAC,QAAQ,CACfC,QAAQ,MACRC,SAAS,MACTC,EAAE,CAAC,OAAO,CACVC,KAAK,CAAC,eAAe,CACrBtC,IAAI,CAAC,OAAO,CACZuC,YAAY,CAAC,OAAO,CACpBC,SAAS,MACTvC,KAAK,CAAEZ,QAAQ,CAACE,KAAM,CACtBkD,QAAQ,CAAE5C,YAAa,CACvBgB,EAAE,CAAE,CACF,0BAA0B,CAAE,CAC1B,YAAY,CAAE,CACZ6B,WAAW,CAAE,2BACf,CAAC,CACD,kBAAkB,CAAE,CAClBA,WAAW,CAAE,SACf,CACF,CACF,CAAE,CACH,CAAC,cACF5D,IAAA,CAACR,SAAS,EACR4D,MAAM,CAAC,QAAQ,CACfC,QAAQ,MACRC,SAAS,MACTpC,IAAI,CAAC,UAAU,CACfsC,KAAK,CAAC,UAAU,CAChBK,IAAI,CAAC,UAAU,CACfN,EAAE,CAAC,UAAU,CACbE,YAAY,CAAC,kBAAkB,CAC/BtC,KAAK,CAAEZ,QAAQ,CAACG,QAAS,CACzBiD,QAAQ,CAAE5C,YAAa,CACvBgB,EAAE,CAAE,CACF,0BAA0B,CAAE,CAC1B,YAAY,CAAE,CACZ6B,WAAW,CAAE,2BACf,CAAC,CACD,kBAAkB,CAAE,CAClBA,WAAW,CAAE,SACf,CACF,CACF,CAAE,CACH,CAAC,cACF5D,IAAA,CAACP,MAAM,EACLoE,IAAI,CAAC,QAAQ,CACbP,SAAS,MACTN,OAAO,CAAC,WAAW,CACnBjB,EAAE,CAAE,CACF+B,EAAE,CAAE,CAAC,CACLtB,EAAE,CAAE,CAAC,CACLD,OAAO,CAAE,SAAS,CAClBM,KAAK,CAAE,MAAM,CACb,SAAS,CAAE,CACTN,OAAO,CAAE,SACX,CACF,CAAE,CACFwB,QAAQ,CAAElD,OAAQ,CAAAoB,QAAA,CAEjBpB,OAAO,cAAGb,IAAA,CAACJ,gBAAgB,EAACoE,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG,SAAS,CAC/C,CAAC,EACN,CAAC,EACD,CAAC,CACC,CAAC,CAEhB,CAEA,cAAe,CAAA7D,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}